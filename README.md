# ENU-ROS-Transformations package
An ENU tangential plane ROS Transformations package that allows for navigation stacks and planners to use that accounts for curvature and ellipsoid behavior-based inaccuracies due to standard geodetic data.

This package is a geodetic conversion package created for the AUVSI SUAS navigation stack.
It runs various conversions between GPS, ECEF, NED and ENU co ordinate frames.

This linearises the co-ordinate frame of any arbitrary map or data structure used by a planner while maintaining the appropriate references to geodetic curvature with a return to the first-order model of the earth as being flat. This Local Tangent Plane(LTP) serves as a local reference  direction for representing vehicle attitude and velocity for operation on or near the surface of the earth.

To change the different geodetic systems, functions in include/transforms/geodetic_conv.h can be used.

## Inverse Haversine functionality: 

This package includes an implementation of an Inverse haversine function that provides a GPS/ENU endpoint(as an Eigen Vector2d) given a GPS/ENU start point and a bearing angle clockwise from north.

```cpp
Eigen::Vector2d ENUtransforms::inverseHaversine(Eigen::Vector2d gps, double bearing, double dist_ft)
```
## Results:

| ENU Frame local GridMap | GPS Points generated by Path Planner| 
| :---        |    :----:   |
| ![alt text](imgs/potential-grid.png)| ![alt text](imgs/gps.png)

## 99% GPS<->ENU<->GridMap reconversion accuracy (in feet)
![](imgs/reconversion.png)

